from sympy import symbols, Poly, factor_list, ZZ
from Crypto.Util.number import inverse, long_to_bytes
import itertools

from sympy.core.intfunc import igcdex

# --- данные из условия ---
n = int("""15213845892534527767082792288836236351944154355774330795012117969447542540967574581468130687498931548866000056214486272440277494420591391045717130188163016576826051429097067468017311407560061521239295615702018744130717117674852193623110565407310694038587431777042634055167585373084154181151317757321586586527160960371374940156853983702448530996400665445946620904685563019816691793130163115658106861559841336314789422055767287967970879419109932589700316839108435916452812594102783038899428390810497763212775801966209789745610272896219410423170643628528030174009830290683026663298491370603325684276478453039401044435143""")

e1 = 5
e2 = 7

A4 = int("""-17953854089448485382296796687749426318287801991409829757605887748245394506687215429654086528009996087536209245840210356641548155746553440354053982397227804789422607166212420377339860337803906019091962012466590352614447798062748711399820722158009212330202224960986730694723962518008020595093617852515644023924325754296917985047553039060736148117211176986332015618871908376843708375971403777608522549961203385981320278602956336715481479673686221574851399032850076864910451072367496042848725635628450214188298915149298633306824635740403867663546722229226063432838928986665097664953589239079725057154316930703667979527745""")
A3 = int("""74750947161433736425265878700296091773795136002759759397920687752934700570056074105291693848175302897655075275744629256387623426930426610670892720469302042125202911841354666187138215884131271367772648856141121016068077471374680770088301397738119777593273704753753070608366108095393439442630791043737716054181363135143546689142432754991636566260091754626585960827177158088821110208972345399738110776309142529962672753273401677657796036763899307037612309307366269837761122760312027399349658474540161795498616707832843255045045886906375052074686058677401572802990352686503684103693008327073486426376595063571073119288825212064333803420954645292403874533297894688496266152191574987233357629684390723612001323332247384405224336803021829555348890030624496414008417363524039046142554561135790182177884508347264714727779014107816970019436449943232345909024870727612546411635346704479574130921839589605722251993491609765690930226081527986066288876387278173485691293626523930900398541330947707258937001695457269491072339206749637009439052711006483641378901842449304949725860372144237511008301312132493006168648355841748779193150595400278903205931478490420243552352338129016780399739739368834256185649458034879817108676479757995351238983024133""")
A2 = int("""-11184653423765556889788378736457477326319559933883964720819873693612482206413157772849017884400598855474221227207953122460717095175709294184171388924049536017519244192691947241371092838277950917621902454942038427665878143631235131318128958448194707998823860934164731834683378797891506487942155177667251216032191587158260961157493861625072747932809681427952046734403269262268457141716767999447884773444204030629503468146903786916391906607892670216166171303432392784942926576167149624652220318510306840518448529774849834456749898793276857586623785998737627126083978128594139871810934595516718652607407419535466370187131512869935216397388586198388649943613985900034660902220586998509734116145703398328457284507874166172648635961787498220611654914952864989833765808894941183660269868094502526659790706858923181944517161969413599287458199809853899197466626692180153891981415081574160382367275356541577056995836648328655806574333838934000348126682603696597018388370825088399463780287806235741917376577378928437771570519189272884950560597429826984426341212833151105864719788550578365059705252853155494484588215748960571147556393018652905479990761638510522431265451273211073395140221024882368355211350492464018199143392083564379576766740622537270333541395390816441421587169444646251954428864268869973644585680264197488948591182158263386556424979026678559779683188415133411682479903446683085577838659782152040172299474268137672966386909135276317276949014275261945319769340844264678042003777780431980051501890354347957498270682446726433690511628708308151835579491844758864288986500273551249178557020269203300356653853984857783436901288948662829878325526820761006873462825493601271294682354673332363308528455503732861049634144084571517092920971627""")
A1 = int("""2879658464024140299044701273020683640486758815783638624010197419953810342762127097186659403011204415801027728156533368231408853854479437835509976741880033669829637249890626711623624474924082573503452836358787006001789180497793451403975554327563829668254541040509374589037865942627060022698969870583757908200815171123175919722756226456391671102866048546080470581170807125470918986583857077425863095110940178018217190605199235834486891575086164364373967017189551149641488470858897994236939901733713954124028198282780411470328988444718831672360104407519422418591365299563109929018783851562050957553224549585882201002467302567575587209085592269208432751448397658849334501852849579137689400017206622387233223983374095940079333626896298234884291595807167183055978622021746760689916832993746276640770516591080164639834237900210880074653581277044276304580419753532811396263796492730577165805357567510227765957447724417887212296370413475702034866782139432452158548877141896082908265989553884370977652052999090622297035562436070176375922206874651354813034369584905973198479048778584982218142957983172696224297242231515554565595024201209859585766375240003885690269828866932956192882707259942901190548713651606682648122457223996458776906294800308113298741062708721845064663045940131150082563506020195001006963338117776080613155830261917651800876354164148732195155272142840567296549932272454260150280279606114958928723578751657881397252047666748666545352714435987735800385559024475068070304270862192852669954103595343930083889078202275255038636576825250650868197125967049917425085628840731823976559155114606317219707030685181867680114858685042792939917577538765441519854487119022570356666845485972012513304133643862593928391995735786329389804942102074189424875105729367926753290635885330748377017041101397148135394334468504475036638367747985812824713837143430545044981333414660095658763048133010557496700733456557698230813281538441003634645474469623325850336685333120250740726515698547695817731147363013693350207786192539022871742787663060316766908647576925050594904237544414215535044068359111118728214408342""")
A0 = int("""-38504883767369156073807478785888568927335296163563951127856641138732922527157912253314574781881629019563666699525396418367261769671993522869154465877839943770638812256040782902321300015657957506141938538559193968470945735389823995115680276675664355504829670032981499289261811279689084882735575692421813716968163327800653732897920072796728838309583600966002267399025938280758278023986262712746844096125772521966782557666402671920548326171244196918467644983602745366208273239074010023027712489384469592621873318136501330082515716217475415183073089605325183063055626528050907468869120764080056567689814547310463351128441837478369790460540563146408392130660566108090197558397055952757305017596138727012315950536817134260689174149110990157741998946678468638106390309034386914602042023495181517512733871423023963768812547799025125827545677230971613849348940420000814941285563032023285426882761035819284878273607621213219452717413375458870996308133937904335659428742624529718370174288744185030986912718069456072373124401970356480005644444010138420029945080296230277263908235323999069228082934447002629466769662029176977212096707299469915456542204675340948419707316698456998575905076271253416923331165485682615031505870160946158658709253893718122122181997858310312224559080954005075193111109336847212629834971713178060140790797347802151923553183394558872207165626135119782350824526677250144730018759207129743466107307214479460122394950947796532919431550223150470389818272638177601457473066451403440947313459696071240447576932032941521250097189659651806610694966330295177145960285515635770297496995678957748473572067968809090697398074336064846904038346343271452706168930789189629811006741697869257812543973208169616783617074100098898982383039983245384758863936999265077802345977719780396503368099027496511036210657137883225835161941527641271409233691231954654670825414502959112363140065489127209566786590876343243790495613001813547145279607835801997649390296331397970269451495106182104405351195902200072076614515628800838274638533704303517249055252838755156512138475308655922672225316275688857353265703422199152""")

x = symbols('x')
poly = Poly(x**5 + A4*x**4 + A3*x**3 + A2*x**2 + A1*x + A0, x, domain=ZZ)

roots = []
for f, exp in factor_list(poly)[1]:
    if f.degree() == 1:  # линейный множитель (x - r)
        r = -int(f.all_coeffs()[-1])
        roots.extend([r]*exp)

a, b, g = igcdex(e1, e2)
if g != 1:
    raise SystemExit("Exponents not coprime")

def pow_signed(c, k):
    return pow(c, k, n) if k >= 0 else pow(inverse(c, n), -k, n)

def combine(c1, c2):
    return (pow_signed(c1, int(a)) * pow_signed(c2, int(b))) % n

best = (-1.0, None, None, b"")
for i, j in itertools.permutations(range(len(roots)), 2):
    m = combine(roots[i], roots[j])
    m_bytes = long_to_bytes(m)

    printable = sum(32 <= x < 127 for x in m_bytes)
    score = printable / max(1, len(m_bytes))
    if b'{' in m_bytes and b'}' in m_bytes:
        score += 1.0
    if score > best[0]:
        best = (score, i, j, m_bytes)

score, i, j, flag = best
try:
    print(flag.decode('utf-8'))
except UnicodeDecodeError:
    print(flag)
